#Common
alias cls="clear"
alias md="mkdir"
alias xcopy="cp"
alias h="cd ${HOME}"

if [[ -d "${REPOS_PATH}" ]]; then
    alias repos="cd ${REPOS_PATH}"
    alias r="repos"
fi

#Colors in manpages
man() {
    env \
            LESS_TERMCAP_mb=$(printf "\e[1;31m") \
            LESS_TERMCAP_md=$(printf "\e[1;31m") \
            LESS_TERMCAP_me=$(printf "\e[0m") \
            LESS_TERMCAP_se=$(printf "\e[0m") \
            LESS_TERMCAP_so=$(printf "\e[1;44;33m") \
            LESS_TERMCAP_ue=$(printf "\e[0m") \
            LESS_TERMCAP_us=$(printf "\e[1;32m") \
            LANG='' \
                    man "$@"
}

#Dumb-dumb needs to learn to use vim instead of nano
alias nano="vim"

#Start emacs in the terminal instead of a windows
alias emacs="emacs -nw"

#Make IntelliJ command line startable
alias idea='open -a "$(ls -dt ${HOME}/Library/Application\ Support/JetBrains/Toolbox/apps/IDEA-U/ch-0/*/*.app|head -1)"'

#Laravel
alias artisan="php artisan"
alias serve="php artisan serve"
alias migrate="php artisan migrate"
alias rollback="php artisan migrate:rollback"
alias refresh="php artisan migrate:refresh"
alias reset="php artisan migrate:reset"
alias seed="php artisan db:seed"
alias tinker="php artisan tinker"

#Homestead
function homestead {
    sh -c "cd ${HOMESTEAD} && exec vagrant ${1}"
}
alias up="homestead up"
alias down="homestead halt"
alias provision="homestead provision"

#iOS
alias pod="bundle exec pod"
alias fastlane="bundle exec fastlane"
alias xcodeworkspace="open *xcw*"
alias xcw="xcodeworkspace"
alias clean-derived-data="rm -rf ${HOME}/Library/Developer/Xcode/DerivedData/*"

#OS X specific - Quit Apple Terminal if all shells are closed
if [ "$TERM_PROGRAM" = "Apple_Terminal" ]; then
    function quit_terminal_when_no_terminals_remain {
        osascript -e 'tell application "Terminal" to if running and (count every tab of every window whose tty is not "'"$(tty)"'") is 0 then quit'
    }

    trap quit_terminal_when_no_terminals_remain EXIT
fi

#Misc
alias edit-vimrc="vim ${HOME}/.vimrc"
alias edit-aliases="vim ${HOME}/.aliases && source ${HOME}/.aliases"
alias edit-global-aliases="vim ${CLI_CONF}/.aliases && source ${CLI_CONF}/.aliases"
alias edit-environment="vim ${HOME}/.environment && source ${HOME}/.environment"
alias edit-global-environment="vim ${CLI_CONF}/.environment && source ${CLI_CONF}/.environment"
function tolower {
    echo "${1}" | awk '{print tolower($0)}'
}

# vi:syntax=sh
